<!-- <style type="text/css">
/*	input[type=checkbox]{
		width: 
	}*/
/*	body{
		background-color: #414B82;
	}*/
	label.checkB{
		/*border:1px solid black;*/
		padding: 3px;
	}
/*	label.checkB:clicked{
		background-color: black;
	}*/
	input[type=checkbox]+span {
		display: inline-block;
		height: 1em;
		width: 1em;
		border-radius: 4px;
		background-color: gray;        
	}
	form{
		padding: 10px;
	}
</style> -->
<style type="text/css">
	#basic_info,#addPost{
		padding-left: 20px;
		padding: 20px;
	}
</style>
<div ng-Controller="Profile">
	<h1>Welcome {{users.username}} </h1>
	<p id="messages" ng-bind='message'></p>
	<div id="profile_page" >
		<div class="row">
			<div id="basic_info" class="green lighten-5">
				<img class="circle col s2" src="img/豆子.png">
				<!-- <button class="btn yellow darken-2" ng-click='socketClick()'>SOCKET</button> -->
				<h4>Your Basic Info</h4>
				<p>Email: {{users.email}}</p>
				<div class="notification">
					<p>Notifications:</p>
					<p ng-repeat='noti in notifications'>
						{{noti.text}}  {{noti.created_at}}
					</p>
				</div>
				<div class="followInfo">
					<div class="following row">
						<h4>{{followedUsers.length}} users are following you</h4>
						<a class="chip col s3" ng-repeat='user in followedUsers' ng-click='getUserDetail(user._id)'>
							<img src="img/gd.jpeg" alt="Contact Person">
							{{user.username}}
						</a>
					</div>	
					<div class="followed row">
						<h4>You are following {{followingUsers.length}} users</h4>
						<a class="chip col s3" ng-repeat='user in followingUsers' >
							<img src="img/gd.jpeg" alt="Contact Person" ng-click='getUserDetail(user._id)'>
							{{user.username}}
							<button id="unfollowBtn" class="btn small right yellow darken-2" ng-click='unfollow(user._id)'>Unfollow</button>
						</a>
					</div>	
				</div><!-- END || FOLLOWINFO CLASS -->
			</div>
		</div>
		<div class="users row">
			<h4>Search Users</h4>
			<div class="input-field row" id="search">
				<i class="material-icons prefix">search</i>
				<input id="search"type="text" class="form-control" placeholder='' ng-model="filter_users">
				<label for='search'>Type here: </label>
			</div>
			<ul class="collection with-heade">
				<li class="collection-header"><h5 class="center">All users</h5></li>
				<li class="collection-item avatar" ng-repeat="user in gUsers | filter:filter_users | orderBy: ['created_at']" ng-click='getUserDetail(user._id)'>
					<img src="../img/gd.jpeg" alt="" class="circle">
					<span class="title"><h5>{{user.username}}</h5></span>
					<p>{{user.followed.length}} ppl are following him</p>
				</a>
			</li>

		</div>
		<div class="debtate" class="row">
			<div class=" green lighten-5" id="addPost">
				<div class="" id="addPost">
					<form >
						<h4>Add New Post:</h4> 
						Title: <input type="text" class="form-control" ng-model="post.title">
						Choose Tags 
						<div class="row">
							<label ng-repeat='tag in gTags' class="col s3 checkB" ng-click='chooseTag(tag)'>
							<!-- <input class="with-gap form-control" value="tag.text" type="radio" ng-model='post.tag'>
							<label for="test1">{{tag.text}}</label> -->
							<input type="checkbox" value="tag.text" id="test5"  />
							{{tag.text}}
						</label>
					</div>
					<div class="row">	
						<h5>Added New Tag 📺: </h5>
						<div class="chip" ng-repeat="tag in addedTags">
							{{tag}}
							<i class="material-icons" ng-click='deleteTag(tag)'>close</i>
						</div>

						<!-- 						<label class="col s3 md3 lg3" ng-repeat="tag in addedTags">{{tag}} <button ng-click='deleteTag(tag)'>Delete</button></label> -->
						<input type="text" class="form-control col s7" ng-model="addedTag">
						<button class="btn light-green darken-1" ng-click='addToTagArr()'>Add Tag</button>
					</div>
					<select ng-model="post.cate">     
						<!-- <option selected>SELECT ONE PLASE</option>  -->
						<option ng-repeat='tag in gCates' value="{{tag.text}}">{{tag.text}}</option>          
					</select>
					<!-- add cate: <input type="text" class="form-control" ng-model="post.cate"> -->
					Content: <textarea ng-model="post.content" class="form-control materialize-textarea" length="200"></textarea><br><br>
					<button class="btn  light-green darken-1" ng-click="addPost()" >Add</button>
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col s12" id="serviceSearch">
				<p>Your Posts</p>
				<div class="input-field col s6" id="search">
					<i class="material-icons prefix">search</i>
					<input id="search"type="text" class="form-control" placeholder='' ng-model="filter_posts">				

					<label for='search'>Type here: </label>
				</div>
			</div>
			<div class="col s4 " ng-repeat="post in userAllPosts | filter:filter_posts | orderBy: ['created_at']">
				<div class="card">
					<div class="card-image">
						<img src="http://i.telegraph.co.uk/multimedia/archive/02432/zuckerberg_2432876b.jpg">
						<span class="card-title" ng-click='getPostDetail(post._id)'>Title: {{post.title}}</span>
					</div>
					<div class="card-content">
						<p>Writen By: {{post.author_name}}</p>
						<p ng-bind='post.content'></p>
						<p>One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin.</p>
					</div>
					<div class="card-action">
						<a ng-repeat='tag in post.tags' ng-click='clickTag(tag)' >#{{tag}}</a>
						<a ng-click='clickCate(post.category)'>{{post.category}}</a>
						<i class="small material-icons" ng-click='deletePost(post._id)'>delete</i>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<script type="text/javascript">
	// $(document).ready(function(){
	// 	$('select').material_select();
	// });;
</script>